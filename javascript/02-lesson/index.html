<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport"
          content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Lesson 02 (31.03.19)</title>
</head>
<body>

<script>
    // Task #1: create algorithm to count words from first input,
    // ignoring special characters from second input

    let inputStr = 'In this "string" variable you find 18 ' +
      'words. Numbers and special characters such ' +
      'as ";", "-" and punctuation should be ignored!';
    let ignoreChar = ' ;,.!?-0123456789"';

    console.log( 'Input string:', inputStr );
    console.log( 'Ignore Characters:', ignoreChar );
    console.log( '' );

    // First realization

    let ifWordBehind = false;
    let countWords = 0;

    for (let i = 0; i < inputStr.length; i++) {
      let findIgnoreCharacters = false;
      for (let j = 0; j < ignoreChar.length; j++) {
        if (inputStr[i] === ignoreChar[j]) {
          findIgnoreCharacters = true;
        }
      }
      if (findIgnoreCharacters && ifWordBehind) {
        countWords++;
        ifWordBehind = false;
      } else if (!findIgnoreCharacters) {
        ifWordBehind = true;
      }
      if (ifWordBehind && i === inputStr.length - 1) {
        countWords++;
      }
    }

    console.log( 'First realization. One-time pass on a line.' );
    console.log( 'Expected result: 18', 'Result of an algorithm:',
                  countWords, 'Is', 18 === countWords);
    console.log( '' );


    // Second realization

    let delChar = inputStr;
    for (let i = 0; i < ignoreChar.length; i++) {
      delChar = delChar.split(ignoreChar[i]).join(' ');
    }
    delChar = delChar.split(' ');

    countWords = 0;
    for (let j = 0; j < delChar.length; j++) {
      if (delChar[j]) countWords++;
    }

    console.log( 'Second realization. With use of a method "Split".' );
    console.log( 'Expected result: 18', 'Result of an algorithm:',
                  countWords, 'Is', 18 === countWords);
    console.log( '\n------------', '\n\n' );

    // Task #2: To find all elements in array, which value
    // is less than average arithmetic from all elements.

    let inputArray = [12, 23, 3, 5, -90, 0, 23.4, 76, 3, 67, -65];

    console.log( 'Input array:', inputArray );
    console.log( '' );

    // First realization

    let averageArithmetic = Math.round(inputArray.reduce( function(previous, current) {
      return previous += current;
    }) / inputArray.length);

    let filteredArray = inputArray.filter( function(element) {
      return element < averageArithmetic;
    });
    console.log( 'First realization. With methods.');
    console.log( 'Average arithmetic:', averageArithmetic);
    console.log( 'Filtered array:', filteredArray, '\n\n' );

    // Second realization

    averageArithmetic = 0;
    filteredArray = [];

    for (let i = 0; i < inputArray.length; i++) {
      averageArithmetic += inputArray[i];
    }
    averageArithmetic = Math.round(averageArithmetic / inputArray.length);

    for (let i = 0; i < inputArray.length; i++) {
      if (inputArray[i] < averageArithmetic) {
        filteredArray.push( inputArray[i] );
      }
    }

    console.log( 'Second realization. With cycles.');
    console.log( 'Average arithmetic:', averageArithmetic);
    console.log( 'Filtered array:', filteredArray, '\n\n' );
</script>
</body>
</html>